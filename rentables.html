<!DOCTYPE html>
<html>

<head>
  <title>Payment</title>
    <!-- <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="Bringing hardware to people at a 
    fraction of the price." />
    <meta name="keywords" content="hardware, rent, hack, create, develop, 
    hackers, hackware, rent hardware, hackathons" />
    <link rel="shortcut icon" href="images/hackware_icon.png"
                              type="image/png"/>
    <link rel="apple-touch-icon" href="images/hackware_icon.png"
                                 type="image/png"/> -->

    <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif] -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://www.parsecdn.com/js/parse-1.3.4.min.js"></script>
    <script src="js/jquery.scrolly.min.js"></script>
    <script src="js/jquery.dropotron.min.js"></script>
    <script src="js/jquery.scrollex.min.js"></script>
    <script src="js/skel.min.js"></script>
    <script src="js/skel-layers.min.js"></script>
    <script src="js/init.js"></script>
    <script src="js/login.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
	<script src="js/jstorage.min.js"></script>
    <script type="text/javascript">
	Parse.initialize("PRZCDqiKSpzjNuIGTEHj9jXKn6f1PRfAixB2nK2r",
    "GuD81fbE4prg1RdLLmJvhLdb8CBa21imyroGrMRk");
	//flush previous selections out of the local storage. 
	$.jStorage.flush();
	
	//make a parse Query to check if items are still available
	var query = new Parse.Query('HW');
	query.equalTo("Name","Pebble Watch");
	query.find({
		success: function(results) {
			// results is an array of Parse.Object.
			if(!results[0].get("Available")<=0){
				//jquery here to insert link to checkout
				$('#pebble').append("<b><font size = \"10\"><a onclick=\"checkout1()\" href = \"purchase/checkout.html\">PEBBLE WATCH: $40</a></font></b>");
			}
			else{
				//jquery here to insert text saying it's currently out of stock
				$('#pebble').append("Pebble watch: currently unavailable");
			}
		},
		error: function(error) {
			// error is an instance of Parse.Error.
			console.log("unable to retrieve the data from Parse");
		}
	});
	
	var query = new Parse.Query('HW');
	query.equalTo("Name","Myo Armband");
	query.find({
		success: function(results) {
			// results is an array of Parse.Object.
			if(!results[0].get("Available")<=0){
				//jquery here to insert link to checkout
				$('#myo').append("<b><font size = \"10\"><a onclick=\"checkout2()\" href = \"purchase/checkout.html\">MYO ARMBAND: $50</a></font></b>");
			}
			else{
				//jquery here to insert text saying it's currently out of stock
				$('#myo').append("<b><font size = \"10\"> Myo armband: currently unavailable </font></b>");
			}
		},
		error: function(error) {
			// error is an instance of Parse.Error.
			console.log("unable to retrieve the data from Parse");
		}
	});

  var query = new Parse.Query('HW');
  query.equalTo("Name","Raspberry Pi");
  query.find({
    success: function(results) {
      // results is an array of Parse.Object.
      if(!results[0].get("Available")<=0){
        //jquery here to insert link to checkout
        $('#raspi').append("<b><font size = \"10\"><a onclick=\"checkout3()\" href = \"purchase/checkout.html\">RASPBERRY PI: $50</a></font></b>");
      }
      else{
        //jquery here to insert text saying it's currently out of stock
        $('#raspi').append("<b><font size = \"10\"> Raspberry Pi: currently unavailable </font></b>");
      }
    },
    error: function(error) {
      // error is an instance of Parse.Error.
      console.log("unable to retrieve the data from Parse");
    }
  });

  var query = new Parse.Query('HW');
  query.equalTo("Name","Google Cardboard");
  query.find({
    success: function(results) {
      // results is an array of Parse.Object.
      if(!results[0].get("Available")<=0){
        //jquery here to insert link to checkout
        $('#google').append("<b><font size = \"10\"><a onclick=\"checkout4()\" href = \"purchase/checkout.html\">GOOGLE CARDBOARD: $35</a></font></b>");
      }
      else{
        //jquery here to insert text saying it's currently out of stock
        $('#google').append("<b><font size = \"10\"> Google Cardboard: currently unavailable </font></b>");
      }
    },
    error: function(error) {
      // error is an instance of Parse.Error.
      console.log("unable to retrieve the data from Parse");
    }
  });

  var query = new Parse.Query('HW');
  query.equalTo("Name","Oculus Rift");
  query.find({
    success: function(results) {
      // results is an array of Parse.Object.
      if(!results[0].get("Available")<=0){
        //jquery here to insert link to checkout
        $('#oculus').append("<b><font size = \"10\"><a onclick=\"checkout5()\" href = \"purchase/checkout.html\">OCULUS RIFT: $70</a></font></b>");
      }
      else{
        //jquery here to insert text saying it's currently out of stock
        $('#oculus').append("<b><font size = \"10\"> Oculus Rift: currently unavailable </font></b>");
      }
    },
    error: function(error) {
      // error is an instance of Parse.Error.
      console.log("unable to retrieve the data from Parse");
    }
  });

		function checkout1(){
			$.jStorage.set("item", "Pebble Watch");
		}
		function checkout2(){
			$.jStorage.set("item", "Myo Armband");
		}
    function checkout3(){
      $.jStorage.set("item", "Raspberry Pi");
    }
    function checkout4(){
      $.jStorage.set("item", "Google Cardboard");
    }
    function checkout5(){
      $.jStorage.set("item", "Oculus Rift");
    }
	
	</script>
    <noscript>
      <link rel="stylesheet" href="css/font-awesome.css">
      <link rel="stylesheet" href="css/bootstrap.css">
      <link rel="stylesheet" href="css/skel.css" />
      <link rel="stylesheet" href="css/style.css" />
      <link rel="stylesheet" href="css/style-xlarge.css" />
    </noscript>
    <!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
    <!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
    <style>
      a:link {
        color: #3BB9FF;
        background-color: transparent;
        text-decoration: none;
      }
      a:visited {
        color: #3BB9FF;
        background-color: transparent;
        text-decoration: none;
      }
      a:hover {
        color: #3BB9FF !important; 
        background-color: transparent;
        text-decoration: underline;
      }
      a:active {
        color: #3BB9FF;
        background-color: transparent;
        text-decoration: underline;
      }
    </style>
</head>

<body>
  <div>
    <center>
      <p><font size = "6"><b>To rent something and hack, click on what you want!</b></font></p>

      <p><font size = "6"><b><a href = "register.html">Sign up</a> for more hardware updates this summer!</b></font></p>
      <br>

      <p id="pebble"></p>
	  
      <br>
      <br>

      <p id="myo"></p>
      <br>
      <br>

      <!-- DO NOT OPEN ITEMS BELOW FOR RENTAL UNTIL SCOTTY HAS RECEIVED APPROVAL FROM THEIR COMPANIES -->

      <!-- <p id="raspi"></p>
      <br>
      <br>

      <p id="google"></p>
      <br>
      <br>

      <p id="oculus"></p>
      <br>
      <br> -->

    </center>
  </div>
</body>

</html>
